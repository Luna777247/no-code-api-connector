# ============================================
# No-Code API Connector - Backend Configuration
# ============================================
# Copy this file to .env and modify values for your environment
# Default values are suitable for local development with Docker

# ============================================
# Database Configuration
# ============================================
# For local development (Docker), use: mongodb://mongo:27017
# For MongoDB Atlas (production), use your Atlas connection string
# For remote MongoDB server, use: mongodb://host:port
MONGODB_URI=mongodb+srv://nguyenanhilu9785_db_user:12345@cluster0.olqzq.mongodb.net/
MONGODB_DATABASE=dataplatform_db

API_CONNECTIONS_COLLECTION=api_connections     # Default
PARAMETER_MODES_COLLECTION=parameter_modes     # Default
API_RUNS_COLLECTION=api_runs                   # Default
API_SCHEDULES_COLLECTION=api_schedules         # Default

MONGODB_QUERY_TIMEOUT_MS=20000
MONGODB_LIMITED_QUERY_TIMEOUT_MS=15000
MONGODB_FIND_TIMEOUT_MS=8000
HTTP_REQUEST_TIMEOUT_SECONDS=45
CACHE_ENABLED=false
AIRFLOW_ACCESS_TOKEN=your-airflow-access-token-here

# ============================================
# PostgreSQL (for Airflow)
# ============================================
POSTGRESQL_DATABASE=airflow
POSTGRESQL_USERNAME=airflow
POSTGRESQL_PASSWORD=airflow_password
ALLOW_EMPTY_PASSWORD=yes

# ============================================
# Redis Configuration
# ============================================
REDIS_ALLOW_EMPTY_PASSWORD=yes

# ============================================
# Airflow Configuration
# ============================================
# Host and port for the backend server
# For development (local): use localhost or 127.0.0.1
# For Docker/production: use 0.0.0.0 to listen on all interfaces
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

AIRFLOW_SECRET_KEY=your-secret-key-here
AIRFLOW_DATABASE_NAME=airflow
AIRFLOW_DATABASE_USERNAME=airflow
AIRFLOW_DATABASE_PASSWORD=airflow_password
AIRFLOW_EXECUTOR=CeleryExecutor
AIRFLOW_WEBSERVER_HOST=0.0.0.0
AIRFLOW_LOAD_EXAMPLES=false
AIRFLOW_USERNAME=airflow
AIRFLOW_PASSWORD=airflow
AIRFLOW_WEBSERVER_URL=http://airflow:8080

# ============================================
# Ports Configuration (for Docker deployment)
# ============================================
# These control which ports Docker containers expose on the host
# Change these if you need different ports or have conflicts
BACKEND_PORT=8000
FRONTEND_PORT=3000
MONGO_PORT=27017
AIRFLOW_PORT=8080

# ============================================
# Application Configuration
# ============================================
APP_ENV=development
APP_DEBUG=true
APP_PORT=3000

# ============================================
# API Configuration
# ============================================
API_TIMEOUT=30
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY=5000
