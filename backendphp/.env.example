# ============================================
# No-Code API Connector - Backend Configuration
# ============================================
# Copy this file to .env and modify values for your environment
# Default values are suitable for local development with Docker

# ============================================
# Database Configuration
# ============================================
# For local development (Docker), use: mongodb://mongo:27017
# For MongoDB Atlas (production), use your Atlas connection string
# For remote MongoDB server, use: mongodb://host:port
MONGODB_URI=mongodb://mongo:27017
MONGODB_DATABASE=dataplatform_db

API_CONNECTIONS_COLLECTION=api_connections     # Default
PARAMETER_MODES_COLLECTION=parameter_modes     # Default
API_RUNS_COLLECTION=api_runs                   # Default
API_SCHEDULES_COLLECTION=api_schedules         # Default

MONGODB_QUERY_TIMEOUT_MS=20000
MONGODB_LIMITED_QUERY_TIMEOUT_MS=15000
MONGODB_FIND_TIMEOUT_MS=8000
HTTP_REQUEST_TIMEOUT_SECONDS=45
CACHE_ENABLED=false
AIRFLOW_ACCESS_TOKEN=your-airflow-access-token-here

# ============================================
# PostgreSQL (for Airflow)
# ============================================
POSTGRESQL_DATABASE=airflow
POSTGRESQL_USERNAME=airflow
POSTGRESQL_PASSWORD=airflow_password
ALLOW_EMPTY_PASSWORD=yes

# ============================================
# Redis Configuration
# ============================================
REDIS_ALLOW_EMPTY_PASSWORD=yes

# ============================================
# Airflow Configuration
# ============================================
AIRFLOW_SECRET_KEY=your-secret-key-here
AIRFLOW_DATABASE_NAME=airflow
AIRFLOW_DATABASE_USERNAME=airflow
AIRFLOW_DATABASE_PASSWORD=airflow_password
AIRFLOW_EXECUTOR=CeleryExecutor
AIRFLOW_WEBSERVER_HOST=0.0.0.0
AIRFLOW_LOAD_EXAMPLES=false
AIRFLOW_USERNAME=airflow
AIRFLOW_PASSWORD=airflow
AIRFLOW_WEBSERVER_URL=http://airflow:8080

# ============================================
# Ports Configuration (for Docker deployment)
# ============================================
# These control which ports Docker containers expose on the host
# Change these if you need different ports or have conflicts
BACKEND_PORT=8000
MONGO_PORT=27017
AIRFLOW_PORT=8080

# ============================================
# Application Configuration
# ============================================
APP_ENV=development
APP_DEBUG=true
APP_PORT=3000

# ============================================
# API Configuration
# ============================================
API_TIMEOUT=30
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY=5000

# ============================================
# Deployment Examples
# ============================================
# For production deployment on a server with IP 192.168.1.100:
# MONGODB_URI=mongodb://192.168.1.100:27017
# BACKEND_PORT=80
# AIRFLOW_PORT=8080
#
# For Docker deployment on different host:
# MONGODB_URI=mongodb://host.docker.internal:27017
# BACKEND_PORT=8001
# AIRFLOW_PORT=8081
#
# For cloud deployment:
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/
# BACKEND_PORT=443
# AIRFLOW_PORT=8080
